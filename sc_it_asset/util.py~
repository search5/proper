#-*- coding: utf-8 -*-
import math

def paging_env_calc(perPage, currPage, totalCnt):
    total_page = int(math.ceil(float(totalCnt) / float(perPage)))

    # 단, 현재 페이지 수(요청받은 페이지 번호)가 전체 페이지 수보다 큰 경우
    # 전체 페이지 수를 현재 페이지 수에 설정한다.
    if currPage > total_page:
        currPage = total_page

    # 목록을 가져올 시점 계산
    limitStart = perPage * (int(currPage) - 1)

    # 이전, 다음 페이지 번호 계산
    prev_page_number = currPage - 1
    if prev_page_number < 1:
        # 이전 페이지 번호가 1보다 작으면 1로 이전 페이지 번호를 설정한다.
        prev_page_number = 1

    next_page_number = currPage + 1
    if next_page_number > total_page:
        # 다음 페이지 번호가 전체 페이지 보다 크면 전체 페이지를 다음 페이지 수로 설정한다.
        next_page_number = total_page
	
	return dict(total_page=totalPage, limitStart=limitStart, prevPageNum=prev_page_number, nextPageNum=next_page_number)